# 📘 币圈技术面因子大全（表格版）

---

## ✅ 运行说明（策略→下单链路）

- **依赖安装**：
  - `py -m pip install -e .`
- **配置密钥**：
  - 复制 `env.example` 为 `.env`，填写 `HL_WALLET_ADDRESS` / `HL_PRIVATE_KEY`
  - 建议先保持 `DRY_RUN=true`（只打印计划，不真下单）
- **启动**：
  - `py main.py`

> 安全提醒：如果你曾经把私钥写进代码/仓库，请立刻在 Hyperliquid 侧**更换/撤销旧私钥**。

## 📑 大纲（含代表性技术指标）

1. **趋势与动量因子**  
   - 指标：`SMA/EMA/WMA`、`MACD/PPO`、`ROC/Momentum`、`RSI(Trend)`、`Breakout`、`ADX`
2. **均值回归因子**  
   - 指标：`Bollinger Bands`、`Keltner Channel`、`VWAP/AVWAP`、`Z-Score`、`RSI (Mean Reversion)`、`Williams %R`
3. **波动率因子**  
   - 指标：`Historical Vol`、`ATR/NATR`、`Bollinger Band Width`、`Skew/Kurtosis`、`HV Ratio`
4. **价量结构因子**  
   - 指标：`Volume Spike`、`OBV`、`支撑阻力（Volume Profile / POC）`、`HH/HL 结构`、`Breakout + Volume`
5. **微观结构因子**  
   - 指标：`Order Book Depth`、`Order Book Imbalance`、`Spread`、`Trade Aggression`、`Whale Trades Ratio`
6. **（可扩展）资金面 / 链上 / 情绪 / 宏观 / 事件 / 统计套利 / 风险控制**  
   - 示例：`Funding Rate`、`Open Interest`、`NVT/MVRV`、`社交 NLP`、`CPI/DXY`、`Pair Trading Spread`、`VaR`

> 以下章节按该大纲展开，逐一说明各指标的作用、经济逻辑、历史统计特征与使用边界。

---
增加流动性判断 

# 1️⃣ 趋势与动量因子（Trend & Momentum）

| 因子 | 作用 | 为什么有效（经济逻辑） | 失效场景（Failure Modes） |
|------|------|-------------------------|-----------------------------|
| MA / EMA / WMA | 判断趋势方向、趋势斜率 | 趋势交易者与 CTA 会共同跟随同方向，形成价格惯性效应 | 震荡行情反复假突破；流动性差导致均线连续被“打穿” |
| MACD / PPO | 动能强弱、趋势加速度 | 趋势加速阶段资金大量涌入，使动能进一步放大（“强者更强”） | 区间震荡中频繁金叉死叉；盘整市完全无效 |
| ROC / Momentum | 捕捉短期价格动能 | 动能交易者会跟随价格加速的方向，形成趋势延续 | 在大级别趋势尚未形成时容易反复震荡 |
| RSI（趋势版） | 判断买卖力量失衡 | 情绪推动下资金大量集中买入或卖出，形成加速行情 | 超买不代表下跌、超卖不代表上涨；在强趋势中“失灵” |
| Breakout 因子 | 捕捉突破点 | 币圈对「突破」极度敏感，突破后容易形成追涨链条 | 假突破、低量突破、单交易所操盘 |

---

# 2️⃣ 均值回归因子（Mean Reversion）

| 因子 | 作用 | 为什么有效（经济逻辑） | 失效场景 |
|------|------|-------------------------|-----------|
| Bollinger Band 回归 | 判断偏离是否过大、是否存在回归概率 | 市场在绝对价格偏离过大后，套利和做市会推动收敛 | 强趋势中均值本身在移动，回归信号容易反向止损 |
| Keltner Channel | 判断波动范围并回归到均值 | ATR 范围反映市场“可接受的价差”，超出后倾向回归 | 大资金扫单会短暂打穿价格带导致误判 |
| VWAP / AVWAP 回归 | 识别价格相对机构成本的偏离 | 做市商往往围绕 VWAP 调整仓位，使价格向 VWAP 回归 | 合约市场剧烈杠杆推动时价格可长期偏离 VWAP |
| Z-score | 判断超买超卖程度 | 短期极端偏差通常不可持续 | 新叙事、暴拉暴跌中 Z-score 完全失效 |

---

# 3️⃣ 波动率因子（Volatility）

| 因子 | 作用 | 为什么有效（经济逻辑） | 失效场景 |
|------|------|-------------------------|-----------|
| Historical Vol | 衡量过去一段时间的波动强度 | 高波动代表信息冲突或资金大量涌入 | 低流动性导致虚假高波动 |
| ATR / NATR | 判断真实价格波动范围 | 大资金换手导致实际波动扩大 | 短周期“抽风”插针导致噪音 |
| BB Width | 判断波动是否收缩/扩张 | 波动收缩通常是趋势爆发前兆 | 横盘状态长期维持会导致假预测 |
| Skew / Kurtosis | 判断价格分布尾部风险 | 币圈常发生“尾部事件”（爆仓链条） | 小币种没足够数据，指标意义弱 |

---

# 4️⃣ 价量结构因子（Price–Volume Structure）

| 因子 | 作用 | 为什么有效 | 失效场景 |
|------|------|------------|-----------|
| Volume 变化 | 判断趋势是否真实有效 | 趋势必须由成交量推动；低量突破通常是骗局 | 刷量、机器人导致量能无意义 |
| OBV | 判断净买卖方向 | 大资金买入会让 OBV 形成趋势 | 控盘币 OBV 完全无效 |
| 支撑/阻力区 | 找关键攻防区域 | 资金在高成交区往往再次博弈，具有记忆效应 | 低流动性导致支撑区被轻松打穿 |
| HH/HL 结构 | 多头趋势确认 | 多空力量通过高低点表达真实意图 | 行情过于震荡导致 HH/HL 混乱 |
| Breakout + Volume | 判断突破质量 | 真突破必须放量，否则是诱多/诱空 | 单交易所操盘导致假量假突破 |

---

# 5️⃣ 微观结构因子（Market Microstructure）

| 因子 | 作用 | 为什么有效（经济逻辑） | 失效场景 |
|------|------|-------------------------|-----------|
| Order Book Depth | 判断真实流动性 | 深度越厚、价格越稳定；深度薄 → 易被砸盘 | 深度挂单可以被瞬间撤销，假象 |
| Order Book Imbalance | 判断买卖盘压力 | 挂单倾斜反映短期真实供需 | “挂单诱骗”（Spoofing）导致误判 |
| Spread | 判断交易成本与真实市场紧张度 | Spread 扩大往往是大行情前兆 | 做市机器人自动调节 Spread |
| Trade Aggression | 判断主动买卖意愿 | 主动资金方向 = 短期趋势方向 | 大资金“反向打点”干扰短线信号 |
| Whale Trades Ratio | 判断大单行为是否推动市场 | 巨鲸一旦出手，对价格影响巨大 | 内部调仓或跨交易所搬砖导致误判 |

---

# 6️⃣ 资金行为因子（Funding & Derivatives Positioning）

| 因子 | 作用 | 为什么有效 | 失效场景 |
|------|------|--------------|-----------|
| Funding Rate | 判断多空压力与方向倾向 | 永续合约定价核心，资金成本决定方向 | 小交易所 Funding 噪音巨大 |
| OI（未平仓量） | 判断杠杆积累 | OI 上升 = 杠杆上升 → 趋势更强 | OI 上升但价格横盘 → 套利或对冲结构 |
| Long/Short Ratio | 市场方向倾斜度 | 极端多空倾斜 → 反向行情概率上升 | 用户群体偏散户的平台代表性弱 |
| Basis（升贴水） | 合约 vs 现货的风险偏好 | 强趋势时升贴水扩大 | 小所易被操盘，Basis 失真 |
| Liquidations（爆仓） | 捕捉强反转点 | “爆仓即底 / 爆仓即顶”是币圈铁律 | 假爆仓数据、不透明清算逻辑 |

---

# 7️⃣ 资金流向因子（Capital Flows）

| 因子 | 作用 | 为什么有效 | 失效场景 |
|------|------|------------|-----------|
| Exchange Netflow | 判断资金是否入场/退场 | 流出所 → 更接近长期持有 | 跨所调仓误判为“巨额流出” |
| Stablecoin Flow | 判断购买力是否增强 | 稳定币入所 often = 买盘准备 | 场外 OTC 数据不完全 |
| Whale Flow | 追踪大资金动向 | 巨鲸动作常领先行情 | 钱包标签错误导致误判 |
| Aggressive Buy/Sell Volume | 真实主动资金方向 | 决定短期趋势的加速与衰竭 | 机器人高频造成噪音 |

---

# 8️⃣ 链上因子（On-chain Metrics）

| 因子 | 作用 | 为什么有效 | 失效场景 |
|------|------|------------|-----------|
| Active Addresses | 判断链活跃度 | 地址越多，需求越旺盛 | 空投交互导致虚假活跃 |
| On-chain Volume | 链上真实转账量 | 与网络使用度相关 | MEV/机器人刷交易导致失真 |
| STH / LTH Ratio | 判断短线投降 or 长线信心 | 牛熊周期反转重要信号 | 新币历史太短无意义 |
| Whale Balance | 判断巨鲸增减仓 | 巨鲸方向常领先价格 | 地址归属错误造成误判 |
| Miner/Validator 行为 | 判断系统性供应压力 | 挖矿抛压增减影响供给 | PoS 主链数据复杂难读 |

---

# 9️⃣ 估值类因子（Valuation Metrics）

| 因子 | 作用 | 为什么有效 | 失效场景 |
|------|------|------------|-----------|
| NVT | 市值 vs 链上交易价值 | 衡量链上活动与市值的背离程度 | 新链冷启动阶段完全无效 |
| MVRV | 市值 vs 已实现价值 | 用于判断“高估/低估” | 牛市中可长期高估而不回调 |
| SOPR | 已花费产出的利润水平 | 判断市场获利了结压力 | 低波动期信号不明显 |
| Realized Cap | 判断底部区域 | 长期资金建仓会抬升 Realized Cap | 新币缺乏历史分布 |
| Free Float Supply | 衡量真实可交易供给 | 供需决定价格弹性 | 无法区分锁仓 vs 假冒流通 |

---

# 🎯 总结：技术面 9 类因子协同使用方式

| 因子组 | 用途 |
|--------|------|
| 趋势 + 动量 | 决定当下方向 |
| 均值回归 | 决定何时“过度偏离” |
| 波动率 | 决定行情是否即将爆发 |
| 价量结构 | 判断趋势是否健康、突破是否真实 |
| 微观结构 | 捕捉短线盘口信号、大单意图 |
| 资金行为 | 永续合约决定行情最终方向 |
| 资金流向 | 判断真资金是否入场 |
| 链上因子 | 判断中长期周期位置 |
| 估值 | 判断市场是否高估/低估 |

---
